name: Lint Code Base

# Триггеры для запуска воркфлоу
on:
  # Запускать при пуше в указанные ветки
  push:
    branches:
      - main
  # Запускать при создании pull request в указанные ветки
  pull_request:
    branches:
      - main

# Задачи, которые будут выполняться
jobs:
  lint:
    # Имя задачи, которое будет отображаться в интерфейсе GitHub
    name: Run ESLint
    # Использовать последнюю версию Ubuntu в качестве операционной системы
    runs-on: ubuntu-latest

    # Шаги выполнения задачи
    steps:
      # Шаг 1: Клонирование вашего репозитория
      - name: Check out code
        uses: actions/checkout@v4

      # Шаг 2: Установка Node.js
      # Использует action 'setup-node' для установки Node.js и кэширования зависимостей
      - name: Set up Node.js
        uses: actions/setup-node@v4
        with:
          # Укажите версию Node.js, которую использует ваш проект
          node-version: '20'
          # Включаем кэширование для менеджера пакетов (в данном случае npm)
          # Это значительно ускорит последующие запуски
          cache: 'npm'

      # Шаг 3: Установка зависимостей проекта
      # Использует кэш, если он доступен. 'ci' вместо 'install' для более строгой и быстрой установки.
      - name: Install dependencies
        run: npm ci

      # Шаг 4: Запуск ESLint
      # Выполняет скрипт "lint" из вашего файла package.json
      # Убедитесь, что в вашем package.json есть скрипт с именем "lint"
      - name: Run ESLint
        run: npm run lint
